{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Data Science Languages: Why So Many?"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "R, Python, Stata, Matlab, Julia: there are a *lot* of languages people use for data science. So why are there so many, and which should you use?\n",
    "\n",
    "The truth is that there are pros and cons to each of these languages, and what is best for you will likely depend not only on what you want to do with the language, but also on factors like your prior experience, risk aversion, and what the people in you office (the easiest people to ask for help, and potential collaborators) already use. \n",
    "\n",
    "### Stata\n",
    "\n",
    "Stata is one of the most popular tools among applied economists, and for good reason. It is an extremely powerful tool for data manipulation and econometric analysis. Its syntax is simpler than that of R, has lots of in-built statistical tools, lots of good add-ones, is very good for data-cleaning, and has a strong support community (the [statalist community](http://www.statalist.org/forums/help) can solve almost any problem you have). \n",
    "\n",
    "Basically, Stata was designed specifically for doing statistical analysises of *tabular data*. Tabular data is data that looks like a spreadsheet where each row is an observation and each column is a different variable. And because of this focus, it has a syntax that is very specialized for this purpose (and thus much simpler and easier to read than, say, R), and *tons* of inbuilt tools for statistics. But this focus does come at a bit of a cost. In particular:\n",
    "\n",
    "- It doesn't really work for anything *BUT* tabular data manipulations and statistical, so it's not a good choice if your interest is in spatial analyses, network analysis, or text analysis.\n",
    "- Stata's programming language is easy to read and work with, but it's also a little unusual. As a result, people with programming experience tend to hate it, and learning to code in Stata doesn't do a great job of setting you up for working in another language in the future. \n",
    "\n",
    "But if you just want to do econometrics, and don't have a lot of programming background, Stata is hard to beat!\n",
    "\n",
    "\n",
    "### R\n",
    "\n",
    "R was the first data science programming language, and in many circles (like the social sciences outside of economics) it is by far the dominant choice. \n",
    "\n",
    "R's biggest asset is the huge library of tools (\"packages\") that have been written by users and published online over the years to add new functionalities to R. There are packages for econometric analysis, geospatial analysis, network analysis, textual analysis, etc.\n",
    "\n",
    "But R's flexibility also comes at a cost -- its scope can be overwhelming, and the language is not the most intuitive or accessible for people without a background in programming. It's syntax (the rules of the programming language) are also rather quirky, and have driven many a programmer crazy. \n",
    "\n",
    "The reason is that the creator of R had the goal of creating a language that was easy for non-programmers to start using, but which would allow people who wanted to use more sophisticated functionality to dive deeper into the language. As a result, it's fundamentally a compromise language, designed to offer much of the flexibility of a full programming language while being more accessible to non-programmers and those just getting started. This compromise is both R's greatest strength and weakness -- Stata users often complain that the syntax is more complex than a simple language should be, while those used to full programming languages (like Python) don't like some of the compromises the language has made in favor of accessibility. \n",
    "\n",
    "This compromise has also lead to variability in the quality of packages available for R. Because anyone can easily write and publish a package for R, there is a huge world of good libraries to choose from, but it is also the case that some libraries are poorly written -- making them a little hard to figure out -- and some are just wrong. Make sure to check with someone more familiar with R for their impressions of a given library before using it in your analysis. \n",
    "\n",
    "R also has issues with performance. As dicussed in [Speed](performance.ipynb), this doesn't really come up if you're using a core library (which was actually written in a really fast language like C or C++). But if you want to write *custom* code that does things that a good, high performance, off-the-shelf library doesn't already do, code you write yourself in R is likely to be painfully slow. \n",
    "\n",
    "Moreover, R also has a reputation for not being very memory efficient, which means that if you're working with big datasets, R may also not be your best choice. \n",
    "\n",
    "\n",
    "### Python\n",
    "\n",
    "Python is a full, general purpose programming language. Most python users actually aren't data scientists, but rather software developers. Dropbox, for example, is written in Python. But in the last decade or so, Python has taken off in popularity for data science, and is the dominant choice among natural scientists and computer scientists. \n",
    "\n",
    "\n",
    "\n",
    "The main reason that Python has been getting increased attention is the creation of ''pandas'', one of the newest tools for manipulating data in Python. Pandas is modeled on R, but was created by someone who was frustrated by R syntax and memory use. Pandas is relatively young, but it is built on a well-established foundation (numpy and python), and some people (this author included) really its programming syntax. It is not as easy to use as, say, Stata, but it can be extremely flexible. \n",
    "\n",
    "And finally, because Python is a general-purpose language, it's already used for lots of things inside and outside the realm of social science and statistics, it integrates easily with tools like ArcGIS, other geospatial tools, network analysis tools, webscrapers, text analysis libraries, etc.\n",
    "\n",
    "### Julia\n",
    "\n",
    "### Summary of Big 4\n",
    "\n",
    "So in quick summary, your choice of languages depends on how you plan to use them. If you only ever plan to do econometrics with tabular data (data in spreadsheets or matrices) and don't want to invest in learning a full programming language, Stata is hard to beat. \n",
    "\n",
    "If you want to do other things -- like geo-spatial analysis, network analysis, web-scraping, etc. -- then it may make sense to learn R or Python. As to which of these to learn, the answer is relatively personal. R is easier to get into, but as noted above this does come at a cost of some flexibility. Thus the choice depends in large part on how much you want to invest up front in learning Python. If you kinda like programming, and plan to use these skills a lot in your career, or already have some familiarity with Python or another object-oriented programming language like Java, Python may sounds appealing; if you're more interested in just getting going, or have far more friends working in R you know you can ask for help, then R may be your best choice! \n",
    "\n",
    "\n",
    "## Considerations for Picking a Language \n",
    "\n",
    "When choosing a software environment / language to use for you statistical work, there are a number of important considerations to take into account. Here are a few:\n",
    "\n",
    "**What do the people around you use?**\n",
    "\n",
    "You will inevitably run into problems working with a new language, and your best resource will likely be the people around you. Before picking a language, ask around to see what your friends and colleagues use. For example, development economists mostly use Stata; political scientists mostly use R; serious econometricians in some departments use Matlab.\n",
    "\n",
    "**What do you need to do?**\n",
    "\n",
    "Different environments have strengths in different areas. For example, if you just want to do data manipulation and standard regressions, Stata really shines. If you also want to do network analysis, you may want to consider R or Python, which have network analysis packages. \n",
    "\n",
    "**Mix and match?**\n",
    "\n",
    "Many people use a mix of environments for their projects. For example, one might do their data cleaning and organization in Stata, then move into R to run a statistical model that isn't support in Stata. This allows the user to use the program that is strongest for each task, but this strategy requires (a) learning multiple languages, and (b) keeping track of how you're moving data back and forth between programs, both of which introduce a lot of costs. With that in mind, I would recommend trying to limit this behavior. \n",
    "\n",
    "**How much data do you have? **\n",
    "\n",
    "Most of the environments / languages discussed on this page are for manipulating data that fits comfortably into RAM. If you have a data set that's quite large (more than 1/2 the amount of RAM you have on your computer), please read the page on [[Big Data]]\n",
    "\n",
    "## Other Languages\n",
    "\n",
    "The Big-4 aren't the only languages out there -- here are a few other you may come across. \n",
    "\n",
    "### Matlab\n",
    "\n",
    "*Note that Matlab is proprietary -- there's also an open-source version called [Octave](https://www.gnu.org/software/octave/), and similar functionality is also available through the Python numpy module.*\n",
    "\n",
    "Matlab is an extremely stripped down language for statistical analysis. It is very powerful, but not very user friendly. Basically, it reduces everything to manipulation of matrices. Econometricians often like Matlab because it allows you to create your own estimators, but if you're doing applied work, it likely isn't for you.\n",
    "\n",
    "\n",
    "## Example Code from Each Language\n",
    "\n",
    "You can get a feel for different environments pretty quickly by looking at example code, although as with any language keep in mind that some things that may seem bizarre or foreign at first can become intuitive with some practice. Here, are code snippets for each language to: open a dataset from a file; create a new variable using existing variables; recode a variable; run a basic OLS regression, and run a slightly more complicated OLS regression. Since presumably you are reading this because you don't yet know these languages, don't worry too much if not everything makes sense -- these snippets are just provided to give you a glimpse of what the languages look like and how readable they are. Comments are included to explain a little of each step. \n",
    "\n",
    "```\n",
    "    * Open a dataset from a file: \n",
    "    use myDataFile.dta\n",
    "    \n",
    "    * Create new variable called age_squared equal to each person's age squared: \n",
    "    generate age_squared = age*age\n",
    "    \n",
    "    * Set variable youngMan values to 1 if male and under 25: \n",
    "    replace youngMan = 1 if gender == \"male\" & age < 25\n",
    "        \n",
    "    * Rename a variable from myVariable to myRenamedVariable: \n",
    "    rename myVariable myRenamedVariable\n",
    "        \n",
    "    * Run an OLS regression of income on age and height:\n",
    "    regress income age height\n",
    "     \n",
    "   * Run an OLS regression of income and age and a categorical variable for level of education for men:\n",
    "    xi: regress income age i.education if gender == \"male\"\n",
    "```\n",
    "\n",
    "A few examples of R commands:\n",
    "\n",
    "```r\n",
    "    # Open a dataset from the file myfile.RData and name it myData: \n",
    "    myData <- load(\"myfile.RData\") \n",
    "    \n",
    "    # Create new variable called age_squared equal to each person's age squared: \n",
    "    myData$age_squared <- myData$age     # myData$age \n",
    "    \n",
    "    # Set variable youngMan values to 1 if male and under 25: \n",
    "    myData$youngMan[gender == \"male\" & age < 25] <- 1 \n",
    "    \n",
    "    # Rename a variable from myVariable to myRenamedVariable: \n",
    "    myData <- rename(myData, c(myVariable=\"myRenamedVariable\")) \n",
    "    \n",
    "    # Run an OLS regression of income on age and height:\n",
    "    olsResults <- lm(income ~ age + height, data = myData) \n",
    "    \n",
    "    # Run an OLS regression of income and age and a categorical variable for level of education:\n",
    "    myData$educationDummies <- factor(myData$education)\n",
    "    myData_menOnly <- subset(myData, gender == \"male\")\n",
    "    olsResults <- lm(income ~ age + educationDummies, data = myData_menOnly)\n",
    "```\n",
    "\n",
    "A few Python commands (all from the pandas library):\n",
    "```python\n",
    "    # Open a dataset from a file (pickle is a file format): \n",
    "    myData = pandas.read_pickle('myFile.pkl')\n",
    "    \n",
    "    # Create new variable called age_squared equal to each person's age squared: \n",
    "    myData['age_squared'] = myData['age'] * myData['age']\n",
    "    \n",
    "    # Set variable youngMan values to 1 if male and under 25: \n",
    "    myData.loc[(myData['gender'] == \"male\") & (myData['age'] < 25) ,'youngMan'] = 1\n",
    "    \n",
    "    # Rename a variable from myVariable to myRenamedVariable: \n",
    "    myData = myData.rename(columns = {'myVariable':'myRenamedVariable'})\n",
    "    \n",
    "    # Run an OLS regression of income and age and height:\n",
    "    from pandas.stats.api import ols\n",
    "    olsResults = ols(y=myData['income'], x=myData[['age','height']])\n",
    "    \n",
    "    # Run an OLS regression of income and age and a categorical variable for level of education for men:\n",
    "    from pandas.stats.api import ols\n",
    "    myData[\"educationDummies\"] = df[\"education\"].astype('category')\n",
    "    myData_menOnly = myData.query('gender == \"male\"')\n",
    "    olsResults = ols(y=myData_menOnly['income'], x=myData_menOnly[  [ 'age','educationDummies' ]  ])\n",
    "```\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Julia 1.0.3",
   "language": "julia",
   "name": "julia-1.0"
  },
  "language_info": {
   "file_extension": ".jl",
   "mimetype": "application/julia",
   "name": "julia",
   "version": "1.0.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
